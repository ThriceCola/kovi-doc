# 必须写在文档前面的一件重要事清

必须写在文档前面的一件重要事清。

## 请使用 `kovi::spawn` 创建新线程。


 **为了 Kovi 能够管理整个 Kovi 插件，能成功的卸载挂载插件，请不要使用 `tokio::spawn` 或者 `std::thread::spawn` 创建长时间新线程。**


`tokio::spawn` 或者 `std::thread::spawn` 创建的线程不会交给 Kovi 管理，在使用 Kovi 的卸载功能时，会导致无法关闭这些不属于 Kovi 的线程。


`kovi::spawn` 的内部使用 `tokio::spawn` 。并将此线程的关闭句柄交给 Kovi 管理。

> [!CAUTION]
> 如果必须使用 `std::thread::spawn 系统线程` ，请缩短它的运行时间，如果此线程永远不会自行结束，请确保不要使用卸载插件功能。
> 
> 如果必须使用 `tokio::spawn tokio线程` ，请缩短它的运行时间，如果此线程永远不会自行结束，请确保不要使用卸载插件功能。
>
> 不然再次启动插件，会导致，有两个重复的线程，甚至出现不可预见的错误。
